{"ast":null,"code":"import _objectSpread from\"/Users/anbu/dev/scalp-app/desktop/src-tauri/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from\"react\";import{getTodayTrades,getTodayPositions}from\"../api\";import{LoadingAnimations,FullPageLoader,EmptyState,CardSkeleton}from\"../components/LoadingStates\";import{useToast}from\"../components/ToastNotifications\";import{exportToCSV,exportToExcel,formatTradesForExport,formatDetailedTradesForExport,formatTradeJournalForExport,formatPerformanceSummary,generateFilename,copyToClipboard}from\"../utils/export\";/* -------------------------\n   Design System\n-------------------------- */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const spacing={sm:8,md:12,lg:16,xl:20,xxl:24};const typography={displayLarge:{fontSize:28,fontWeight:700,lineHeight:1.2},headingLarge:{fontSize:18,fontWeight:600,lineHeight:1.4},headingMedium:{fontSize:16,fontWeight:600,lineHeight:1.4},bodyLarge:{fontSize:14,fontWeight:400,lineHeight:1.5},bodyMedium:{fontSize:13,fontWeight:400,lineHeight:1.5},bodySmall:{fontSize:12,fontWeight:400,lineHeight:1.4},label:{fontSize:11,fontWeight:500,lineHeight:1.3,letterSpacing:'0.5px',textTransform:'uppercase'},mono:{fontFamily:\"'JetBrains Mono', 'Fira Code', monospace\",fontVariantNumeric:\"tabular-nums\"}};const colors={profit:\"#10b981\",profitBg:\"rgba(16, 185, 129, 0.1)\",loss:\"#ef4444\",lossBg:\"rgba(239, 68, 68, 0.1)\",neutral:\"#6b7280\",primary:\"#2563eb\",bg:{primary:\"#020817\",secondary:\"#0f172a\",tertiary:\"#1e293b\"},border:{light:\"#334155\",dark:\"#1e293b\"},text:{primary:\"#f8fafc\",secondary:\"#cbd5e1\",tertiary:\"#94a3b8\",muted:\"#64748b\"}};/* -------------------------\n   Helper Functions\n-------------------------- */const safeNum=v=>typeof v===\"number\"&&!isNaN(v)?v:0;/* -------------------------\n   Card Component\n-------------------------- */function Card(_ref){let{children,style,elevated}=_ref;return/*#__PURE__*/_jsx(\"div\",{style:_objectSpread({background:elevated?colors.bg.tertiary:colors.bg.secondary,border:\"1px solid \".concat(colors.border.light),borderRadius:8,boxShadow:elevated?\"0 4px 6px -1px rgba(0, 0, 0, 0.3)\":\"0 1px 3px rgba(0, 0, 0, 0.2)\"},style),children:children});}/* -------------------------\n   Metric Card\n-------------------------- */function MetricCard(_ref2){let{label,value,subValue,isPositive,loading}=_ref2;if(loading){return/*#__PURE__*/_jsx(Card,{elevated:true,style:{padding:spacing.lg},children:/*#__PURE__*/_jsx(CardSkeleton,{rows:2})});}return/*#__PURE__*/_jsxs(Card,{elevated:true,style:{padding:spacing.lg},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.label),{},{color:colors.text.muted,marginBottom:spacing.sm}),children:label}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",alignItems:\"baseline\",gap:spacing.sm},children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread(_objectSpread({},typography.headingLarge),{},{fontSize:24},typography.mono),{},{color:isPositive!==undefined?isPositive?colors.profit:colors.loss:colors.text.primary}),children:value})}),subValue&&/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.bodySmall),{},{color:colors.text.tertiary,marginTop:spacing.xs}),children:subValue})]});}/* -------------------------\n   Simple Line Chart (SVG)\n-------------------------- */function SimpleLineChart(_ref3){let{data,width=600,height=250,color=colors.primary}=_ref3;if(!data||data.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{width,height,display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"span\",{style:{color:colors.text.muted},children:\"No data to display\"})});}const padding=40;const chartWidth=width-padding*2;const chartHeight=height-padding*2;const values=data.map(d=>d.value);const min=Math.min(...values);const max=Math.max(...values);const range=max-min||1;const points=data.map((d,i)=>{const x=padding+i/(data.length-1)*chartWidth;const y=padding+chartHeight-(d.value-min)/range*chartHeight;return{x,y,label:d.label,value:d.value};});const pathD=points.map((p,i)=>\"\".concat(i===0?'M':'L',\" \").concat(p.x,\" \").concat(p.y)).join(' ');return/*#__PURE__*/_jsxs(\"svg\",{width:width,height:height,style:{background:colors.bg.primary,borderRadius:8},children:[[0,0.25,0.5,0.75,1].map((ratio,i)=>{const y=padding+chartHeight*ratio;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{x1:padding,y1:y,x2:width-padding,y2:y,stroke:colors.border.dark,strokeDasharray:\"3,3\"}),/*#__PURE__*/_jsxs(\"text\",{x:padding-10,y:y+4,fill:colors.text.muted,fontSize:10,textAnchor:\"end\",children:[\"\\u20B9\",Math.round(min+(1-ratio)*range)]})]},i);}),/*#__PURE__*/_jsx(\"path\",{d:pathD,fill:\"none\",stroke:color,strokeWidth:2,strokeLinecap:\"round\",strokeLinejoin:\"round\"}),points.map((p,i)=>/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:p.x,cy:p.y,r:4,fill:color}),i%Math.ceil(points.length/8)===0&&/*#__PURE__*/_jsx(\"text\",{x:p.x,y:height-padding+20,fill:colors.text.muted,fontSize:10,textAnchor:\"middle\",children:p.label})]},i))]});}/* -------------------------\n   Simple Bar Chart\n-------------------------- */function SimpleBarChart(_ref4){let{data,width=600,height=250}=_ref4;if(!data||data.length===0){return/*#__PURE__*/_jsx(\"div\",{style:{width,height,display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"span\",{style:{color:colors.text.muted},children:\"No data to display\"})});}const padding=40;const chartWidth=width-padding*2;const chartHeight=height-padding*2;const barWidth=chartWidth/data.length-20;const maxValue=Math.max(...data.map(d=>d.value));return/*#__PURE__*/_jsx(\"svg\",{width:width,height:height,style:{background:colors.bg.primary,borderRadius:8},children:data.map((d,i)=>{const barHeight=d.value/maxValue*chartHeight;const x=padding+i*(chartWidth/data.length)+10;const y=padding+chartHeight-barHeight;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"rect\",{x:x,y:y,width:barWidth,height:barHeight,fill:d.color||colors.primary,rx:6}),/*#__PURE__*/_jsx(\"text\",{x:x+barWidth/2,y:height-padding+20,fill:colors.text.muted,fontSize:12,textAnchor:\"middle\",children:d.label}),/*#__PURE__*/_jsx(\"text\",{x:x+barWidth/2,y:y-8,fill:colors.text.primary,fontSize:12,fontWeight:600,textAnchor:\"middle\",children:d.value})]},i);})});}/* -------------------------\n   Analytics Page\n-------------------------- */export default function Analytics(){const toast=useToast();const[loading,setLoading]=useState(true);const[trades,setTrades]=useState([]);const[positions,setPositions]=useState({open:[],closed:[]});const[metrics,setMetrics]=useState(null);useEffect(()=>{loadData();const interval=setInterval(loadData,30000);return()=>clearInterval(interval);},[]);async function loadData(){try{const[tradesData,positionsData]=await Promise.all([getTodayTrades(),getTodayPositions()]);setTrades(tradesData||[]);setPositions(positionsData||{open:[],closed:[]});calculateMetrics((positionsData===null||positionsData===void 0?void 0:positionsData.closed)||[],(positionsData===null||positionsData===void 0?void 0:positionsData.open)||[]);}catch(error){console.error(\"Failed to load analytics:\",error);}finally{setLoading(false);}}function calculateMetrics(closed,open){const allTrades=[...closed];if(allTrades.length===0){setMetrics(null);return;}const wins=allTrades.filter(t=>safeNum(t.pnl)>0).length;const losses=allTrades.filter(t=>safeNum(t.pnl)<0).length;const total=allTrades.length;const winRate=total>0?wins/total*100:0;const totalPnL=allTrades.reduce((sum,t)=>sum+safeNum(t.pnl),0);const avgPnL=total>0?totalPnL/total:0;const avgWin=wins>0?allTrades.filter(t=>safeNum(t.pnl)>0).reduce((sum,t)=>sum+safeNum(t.pnl),0)/wins:0;const avgLoss=losses>0?allTrades.filter(t=>safeNum(t.pnl)<0).reduce((sum,t)=>sum+safeNum(t.pnl),0)/losses:0;const bestTrade=allTrades.reduce((max,t)=>safeNum(t.pnl)>safeNum(max.pnl)?t:max,allTrades[0]||{});const worstTrade=allTrades.reduce((min,t)=>safeNum(t.pnl)<safeNum(min.pnl)?t:min,allTrades[0]||{});const unrealisedPnL=open.reduce((sum,t)=>sum+safeNum(t.pnl),0);const grossProfit=allTrades.filter(t=>safeNum(t.pnl)>0).reduce((sum,t)=>sum+safeNum(t.pnl),0);const grossLoss=Math.abs(allTrades.filter(t=>safeNum(t.pnl)<0).reduce((sum,t)=>sum+safeNum(t.pnl),0));const profitFactor=grossLoss>0?grossProfit/grossLoss:grossProfit>0?Infinity:0;setMetrics({totalTrades:total,wins,losses,winRate,totalPnL,avgPnL,avgWin,avgLoss,bestTrade,worstTrade,unrealisedPnL,profitFactor});}// Export handlers\nfunction handleExportTradesCSV(){const formattedTrades=formatTradesForExport(positions.closed);exportToCSV(formattedTrades,generateFilename('trades','csv'));toast.success('Export Complete','Trades exported to CSV');}function handleExportTradesExcel(){const formattedTrades=formatTradesForExport(positions.closed);exportToExcel(formattedTrades,generateFilename('trades','xlsx'));toast.success('Export Complete','Trades exported to Excel');}function handleExportDetailedTrades(){const detailedTrades=formatDetailedTradesForExport(positions.closed);exportToCSV(detailedTrades,generateFilename('detailed_trades','csv'));toast.success('Export Complete','Detailed trades exported with individual legs');}function handleExportTradeJournal(){const journal=formatTradeJournalForExport(positions.closed);exportToCSV(journal,generateFilename('trade_journal','csv'));toast.success('Export Complete','Trade journal exported with all entries/exits');}function handleExportSummary(){const summary=formatPerformanceSummary(metrics,positions);exportToCSV(summary,generateFilename('performance_summary','csv'));toast.success('Export Complete','Summary exported to CSV');}async function handleCopyToClipboard(){const summary=formatPerformanceSummary(metrics,positions);const text=summary.map(row=>\"\".concat(row.Metric,\": \").concat(row.Value)).join('\\n');const success=await copyToClipboard(text);if(success){toast.success('Copied!','Summary copied to clipboard');}else{toast.error('Copy Failed','Could not copy to clipboard');}}if(loading){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LoadingAnimations,{}),/*#__PURE__*/_jsx(FullPageLoader,{message:\"Loading analytics...\"})]});}const hasTrades=positions.closed.length>0;// Prepare chart data\nconst equityCurveData=positions.closed.map((t,i)=>({label:\"\".concat(i+1),value:positions.closed.slice(0,i+1).reduce((sum,tr)=>sum+safeNum(tr.pnl),0)}));const distributionData=metrics?[{label:\"Wins\",value:metrics.wins,color:colors.profit},{label:\"Losses\",value:metrics.losses,color:colors.loss}]:[];return/*#__PURE__*/_jsxs(\"div\",{style:{padding:spacing.xxl,background:colors.bg.primary,color:colors.text.primary,minHeight:\"100vh\",fontFamily:\"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:spacing.xxl},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",marginBottom:spacing.md},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:_objectSpread(_objectSpread({margin:0},typography.displayLarge),{},{color:colors.text.primary}),children:\"Performance Analytics\"}),/*#__PURE__*/_jsx(\"p\",{style:_objectSpread(_objectSpread({margin:0,marginTop:spacing.xs},typography.bodyMedium),{},{color:colors.text.tertiary}),children:\"Comprehensive trading performance metrics and insights\"})]}),hasTrades&&/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:spacing.sm,flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleExportTradesCSV,style:{padding:\"8px 16px\",borderRadius:6,border:\"1px solid \".concat(colors.border.light),background:colors.bg.secondary,color:colors.text.primary,fontSize:13,fontWeight:600,cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:6,transition:\"all 0.2s ease\"},onMouseEnter:e=>e.target.style.background=colors.bg.tertiary,onMouseLeave:e=>e.target.style.background=colors.bg.secondary,title:\"Export summarized trades\",children:\"\\uD83D\\uDCC4 CSV\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportTradesExcel,style:{padding:\"8px 16px\",borderRadius:6,border:\"1px solid \".concat(colors.border.light),background:colors.bg.secondary,color:colors.text.primary,fontSize:13,fontWeight:600,cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:6,transition:\"all 0.2s ease\"},onMouseEnter:e=>e.target.style.background=colors.bg.tertiary,onMouseLeave:e=>e.target.style.background=colors.bg.secondary,title:\"Export to Excel\",children:\"\\uD83D\\uDCCA Excel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportDetailedTrades,style:{padding:\"8px 16px\",borderRadius:6,border:\"1px solid \".concat(colors.border.light),background:colors.bg.secondary,color:colors.text.primary,fontSize:13,fontWeight:600,cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:6,transition:\"all 0.2s ease\"},onMouseEnter:e=>e.target.style.background=colors.bg.tertiary,onMouseLeave:e=>e.target.style.background=colors.bg.secondary,title:\"Export with individual trade legs\",children:\"\\uD83D\\uDCCB Detailed\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportTradeJournal,style:{padding:\"8px 16px\",borderRadius:6,border:\"1px solid \".concat(colors.border.light),background:colors.bg.secondary,color:colors.text.primary,fontSize:13,fontWeight:600,cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:6,transition:\"all 0.2s ease\"},onMouseEnter:e=>e.target.style.background=colors.bg.tertiary,onMouseLeave:e=>e.target.style.background=colors.bg.secondary,title:\"Export complete trade journal with all entries/exits\",children:\"\\uD83D\\uDCD6 Journal\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportSummary,style:{padding:\"8px 16px\",borderRadius:6,border:\"1px solid \".concat(colors.border.light),background:colors.bg.secondary,color:colors.text.primary,fontSize:13,fontWeight:600,cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:6,transition:\"all 0.2s ease\"},onMouseEnter:e=>e.target.style.background=colors.bg.tertiary,onMouseLeave:e=>e.target.style.background=colors.bg.secondary,title:\"Export performance summary\",children:\"\\uD83D\\uDCCA Summary\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopyToClipboard,style:{padding:\"8px 16px\",borderRadius:6,border:\"1px solid \".concat(colors.primary),background:colors.primary,color:colors.text.primary,fontSize:13,fontWeight:600,cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:6,transition:\"all 0.2s ease\"},onMouseEnter:e=>e.target.style.opacity=0.9,onMouseLeave:e=>e.target.style.opacity=1,title:\"Copy summary to clipboard\",children:\"\\uD83D\\uDCCB Copy\"})]})]})}),!hasTrades?/*#__PURE__*/_jsx(Card,{style:{padding:spacing.xxl},children:/*#__PURE__*/_jsx(EmptyState,{icon:\"\\uD83D\\uDCCA\",title:\"No trades yet\",description:\"Analytics will appear here once you complete your first trade of the day.\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(200px, 1fr))\",gap:spacing.md,marginBottom:spacing.lg},children:[/*#__PURE__*/_jsx(MetricCard,{label:\"Total P&L\",value:\"\\u20B9\".concat(Math.round(metrics.totalPnL).toLocaleString('en-IN')),isPositive:metrics.totalPnL>0,subValue:\"\".concat(metrics.totalTrades,\" trades completed\")}),/*#__PURE__*/_jsx(MetricCard,{label:\"Win Rate\",value:\"\".concat(metrics.winRate.toFixed(1),\"%\"),isPositive:metrics.winRate>=50,subValue:\"\".concat(metrics.wins,\"W / \").concat(metrics.losses,\"L\")}),/*#__PURE__*/_jsx(MetricCard,{label:\"Average P&L\",value:\"\\u20B9\".concat(Math.round(metrics.avgPnL).toLocaleString('en-IN')),isPositive:metrics.avgPnL>0,subValue:\"Per trade\"}),/*#__PURE__*/_jsx(MetricCard,{label:\"Profit Factor\",value:metrics.profitFactor===Infinity?\"âˆž\":metrics.profitFactor.toFixed(2),isPositive:metrics.profitFactor>1,subValue:\"Gross profit / loss\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:spacing.md,marginBottom:spacing.lg},children:[/*#__PURE__*/_jsxs(Card,{style:{padding:spacing.lg},children:[/*#__PURE__*/_jsx(\"h3\",{style:_objectSpread({margin:0,marginBottom:spacing.md},typography.headingMedium),children:\"Equity Curve\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(SimpleLineChart,{data:equityCurveData,width:550,height:250,color:colors.primary})})]}),/*#__PURE__*/_jsxs(Card,{style:{padding:spacing.lg},children:[/*#__PURE__*/_jsx(\"h3\",{style:_objectSpread({margin:0,marginBottom:spacing.md},typography.headingMedium),children:\"Trade Distribution\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(SimpleBarChart,{data:distributionData,width:550,height:250})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"1fr 1fr\",gap:spacing.md},children:[/*#__PURE__*/_jsxs(Card,{style:{padding:spacing.lg},children:[/*#__PURE__*/_jsx(\"h3\",{style:_objectSpread({margin:0,marginBottom:spacing.md},typography.headingMedium),children:\"Best & Worst Trades\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:spacing.md},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:spacing.md,background:colors.profitBg,borderRadius:6,border:\"1px solid \".concat(colors.profit,\"40\")},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.bodySmall),{},{color:colors.text.muted,marginBottom:spacing.xs}),children:\"Best Trade\"}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.mono),{},{fontSize:13,color:colors.text.secondary,marginBottom:4}),children:metrics.bestTrade.tradingsymbol||\"N/A\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},typography.headingMedium),{},{color:colors.profit}),children:[\"+\\u20B9\",Math.round(safeNum(metrics.bestTrade.pnl)).toLocaleString('en-IN')]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:spacing.md,background:colors.lossBg,borderRadius:6,border:\"1px solid \".concat(colors.loss,\"40\")},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.bodySmall),{},{color:colors.text.muted,marginBottom:spacing.xs}),children:\"Worst Trade\"}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.mono),{},{fontSize:13,color:colors.text.secondary,marginBottom:4}),children:metrics.worstTrade.tradingsymbol||\"N/A\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},typography.headingMedium),{},{color:colors.loss}),children:[\"\\u20B9\",Math.round(safeNum(metrics.worstTrade.pnl)).toLocaleString('en-IN')]})]})]})]}),/*#__PURE__*/_jsxs(Card,{style:{padding:spacing.lg},children:[/*#__PURE__*/_jsx(\"h3\",{style:_objectSpread({margin:0,marginBottom:spacing.md},typography.headingMedium),children:\"Average Performance\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",gap:spacing.md},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.bodySmall),{},{color:colors.text.muted,marginBottom:spacing.xs}),children:\"Average Win\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread(_objectSpread({},typography.headingMedium),typography.mono),{},{color:colors.profit}),children:[\"+\\u20B9\",Math.round(metrics.avgWin).toLocaleString('en-IN')]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.bodySmall),{},{color:colors.text.muted,marginBottom:spacing.xs}),children:\"Average Loss\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread(_objectSpread({},typography.headingMedium),typography.mono),{},{color:colors.loss}),children:[\"\\u20B9\",Math.round(metrics.avgLoss).toLocaleString('en-IN')]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{paddingTop:spacing.md,borderTop:\"1px solid \".concat(colors.border.dark)},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.bodySmall),{},{color:colors.text.muted,marginBottom:spacing.xs}),children:\"Risk/Reward Ratio\"}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread(_objectSpread({},typography.headingMedium),typography.mono),{},{color:colors.text.primary}),children:metrics.avgLoss!==0?\"1:\".concat(Math.abs(metrics.avgWin/metrics.avgLoss).toFixed(2)):\"N/A\"})]})]})]})]})]})]});}","map":{"version":3,"names":["useEffect","useState","getTodayTrades","getTodayPositions","LoadingAnimations","FullPageLoader","EmptyState","CardSkeleton","useToast","exportToCSV","exportToExcel","formatTradesForExport","formatDetailedTradesForExport","formatTradeJournalForExport","formatPerformanceSummary","generateFilename","copyToClipboard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","spacing","sm","md","lg","xl","xxl","typography","displayLarge","fontSize","fontWeight","lineHeight","headingLarge","headingMedium","bodyLarge","bodyMedium","bodySmall","label","letterSpacing","textTransform","mono","fontFamily","fontVariantNumeric","colors","profit","profitBg","loss","lossBg","neutral","primary","bg","secondary","tertiary","border","light","dark","text","muted","safeNum","v","isNaN","Card","_ref","children","style","elevated","_objectSpread","background","concat","borderRadius","boxShadow","MetricCard","_ref2","value","subValue","isPositive","loading","padding","rows","color","marginBottom","display","alignItems","gap","undefined","marginTop","xs","SimpleLineChart","_ref3","data","width","height","length","justifyContent","chartWidth","chartHeight","values","map","d","min","Math","max","range","points","i","x","y","pathD","p","join","ratio","x1","y1","x2","y2","stroke","strokeDasharray","fill","textAnchor","round","strokeWidth","strokeLinecap","strokeLinejoin","cx","cy","r","ceil","SimpleBarChart","_ref4","barWidth","maxValue","barHeight","rx","Analytics","toast","setLoading","trades","setTrades","positions","setPositions","open","closed","metrics","setMetrics","loadData","interval","setInterval","clearInterval","tradesData","positionsData","Promise","all","calculateMetrics","error","console","allTrades","wins","filter","t","pnl","losses","total","winRate","totalPnL","reduce","sum","avgPnL","avgWin","avgLoss","bestTrade","worstTrade","unrealisedPnL","grossProfit","grossLoss","abs","profitFactor","Infinity","totalTrades","handleExportTradesCSV","formattedTrades","success","handleExportTradesExcel","handleExportDetailedTrades","detailedTrades","handleExportTradeJournal","journal","handleExportSummary","summary","handleCopyToClipboard","row","Metric","Value","message","hasTrades","equityCurveData","slice","tr","distributionData","minHeight","margin","flexWrap","onClick","cursor","transition","onMouseEnter","e","target","onMouseLeave","title","opacity","icon","description","gridTemplateColumns","toLocaleString","toFixed","flexDirection","tradingsymbol","paddingTop","borderTop"],"sources":["/Users/anbu/dev/scalp-app/desktop/src-tauri/frontend/src/pages/Analytics.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { getTodayTrades, getTodayPositions } from \"../api\";\nimport { LoadingAnimations, FullPageLoader, EmptyState, CardSkeleton } from \"../components/LoadingStates\";\nimport { useToast } from \"../components/ToastNotifications\";\nimport {\n  exportToCSV,\n  exportToExcel,\n  formatTradesForExport,\n  formatDetailedTradesForExport,\n  formatTradeJournalForExport,\n  formatPerformanceSummary,\n  generateFilename,\n  copyToClipboard\n} from \"../utils/export\";\n\n/* -------------------------\n   Design System\n-------------------------- */\n\nconst spacing = {\n  sm: 8,\n  md: 12,\n  lg: 16,\n  xl: 20,\n  xxl: 24\n};\n\nconst typography = {\n  displayLarge: { fontSize: 28, fontWeight: 700, lineHeight: 1.2 },\n  headingLarge: { fontSize: 18, fontWeight: 600, lineHeight: 1.4 },\n  headingMedium: { fontSize: 16, fontWeight: 600, lineHeight: 1.4 },\n  bodyLarge: { fontSize: 14, fontWeight: 400, lineHeight: 1.5 },\n  bodyMedium: { fontSize: 13, fontWeight: 400, lineHeight: 1.5 },\n  bodySmall: { fontSize: 12, fontWeight: 400, lineHeight: 1.4 },\n  label: { fontSize: 11, fontWeight: 500, lineHeight: 1.3, letterSpacing: '0.5px', textTransform: 'uppercase' },\n  mono: { fontFamily: \"'JetBrains Mono', 'Fira Code', monospace\", fontVariantNumeric: \"tabular-nums\" }\n};\n\nconst colors = {\n  profit: \"#10b981\",\n  profitBg: \"rgba(16, 185, 129, 0.1)\",\n  loss: \"#ef4444\",\n  lossBg: \"rgba(239, 68, 68, 0.1)\",\n  neutral: \"#6b7280\",\n  primary: \"#2563eb\",\n  bg: {\n    primary: \"#020817\",\n    secondary: \"#0f172a\",\n    tertiary: \"#1e293b\",\n  },\n  border: {\n    light: \"#334155\",\n    dark: \"#1e293b\"\n  },\n  text: {\n    primary: \"#f8fafc\",\n    secondary: \"#cbd5e1\",\n    tertiary: \"#94a3b8\",\n    muted: \"#64748b\"\n  }\n};\n\n/* -------------------------\n   Helper Functions\n-------------------------- */\n\nconst safeNum = (v) => (typeof v === \"number\" && !isNaN(v) ? v : 0);\n\n/* -------------------------\n   Card Component\n-------------------------- */\n\nfunction Card({ children, style, elevated }) {\n  return (\n    <div\n      style={{\n        background: elevated ? colors.bg.tertiary : colors.bg.secondary,\n        border: `1px solid ${colors.border.light}`,\n        borderRadius: 8,\n        boxShadow: elevated ? \"0 4px 6px -1px rgba(0, 0, 0, 0.3)\" : \"0 1px 3px rgba(0, 0, 0, 0.2)\",\n        ...style\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\n/* -------------------------\n   Metric Card\n-------------------------- */\n\nfunction MetricCard({ label, value, subValue, isPositive, loading }) {\n  if (loading) {\n    return (\n      <Card elevated style={{ padding: spacing.lg }}>\n        <CardSkeleton rows={2} />\n      </Card>\n    );\n  }\n\n  return (\n    <Card elevated style={{ padding: spacing.lg }}>\n      <div style={{ ...typography.label, color: colors.text.muted, marginBottom: spacing.sm }}>\n        {label}\n      </div>\n      <div style={{ display: \"flex\", alignItems: \"baseline\", gap: spacing.sm }}>\n        <div style={{\n          ...typography.headingLarge,\n          fontSize: 24,\n          ...typography.mono,\n          color: isPositive !== undefined \n            ? (isPositive ? colors.profit : colors.loss)\n            : colors.text.primary\n        }}>\n          {value}\n        </div>\n      </div>\n      {subValue && (\n        <div style={{ ...typography.bodySmall, color: colors.text.tertiary, marginTop: spacing.xs }}>\n          {subValue}\n        </div>\n      )}\n    </Card>\n  );\n}\n\n/* -------------------------\n   Simple Line Chart (SVG)\n-------------------------- */\n\nfunction SimpleLineChart({ data, width = 600, height = 250, color = colors.primary }) {\n  if (!data || data.length === 0) {\n    return (\n      <div style={{ width, height, display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n        <span style={{ color: colors.text.muted }}>No data to display</span>\n      </div>\n    );\n  }\n\n  const padding = 40;\n  const chartWidth = width - padding * 2;\n  const chartHeight = height - padding * 2;\n\n  const values = data.map(d => d.value);\n  const min = Math.min(...values);\n  const max = Math.max(...values);\n  const range = max - min || 1;\n\n  const points = data.map((d, i) => {\n    const x = padding + (i / (data.length - 1)) * chartWidth;\n    const y = padding + chartHeight - ((d.value - min) / range) * chartHeight;\n    return { x, y, label: d.label, value: d.value };\n  });\n\n  const pathD = points.map((p, i) => `${i === 0 ? 'M' : 'L'} ${p.x} ${p.y}`).join(' ');\n\n  return (\n    <svg width={width} height={height} style={{ background: colors.bg.primary, borderRadius: 8 }}>\n      {/* Grid lines */}\n      {[0, 0.25, 0.5, 0.75, 1].map((ratio, i) => {\n        const y = padding + chartHeight * ratio;\n        return (\n          <g key={i}>\n            <line\n              x1={padding}\n              y1={y}\n              x2={width - padding}\n              y2={y}\n              stroke={colors.border.dark}\n              strokeDasharray=\"3,3\"\n            />\n            <text\n              x={padding - 10}\n              y={y + 4}\n              fill={colors.text.muted}\n              fontSize={10}\n              textAnchor=\"end\"\n            >\n              â‚¹{Math.round(min + (1 - ratio) * range)}\n            </text>\n          </g>\n        );\n      })}\n\n      {/* Line */}\n      <path\n        d={pathD}\n        fill=\"none\"\n        stroke={color}\n        strokeWidth={2}\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n\n      {/* Points */}\n      {points.map((p, i) => (\n        <g key={i}>\n          <circle cx={p.x} cy={p.y} r={4} fill={color} />\n          {i % Math.ceil(points.length / 8) === 0 && (\n            <text\n              x={p.x}\n              y={height - padding + 20}\n              fill={colors.text.muted}\n              fontSize={10}\n              textAnchor=\"middle\"\n            >\n              {p.label}\n            </text>\n          )}\n        </g>\n      ))}\n    </svg>\n  );\n}\n\n/* -------------------------\n   Simple Bar Chart\n-------------------------- */\n\nfunction SimpleBarChart({ data, width = 600, height = 250 }) {\n  if (!data || data.length === 0) {\n    return (\n      <div style={{ width, height, display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n        <span style={{ color: colors.text.muted }}>No data to display</span>\n      </div>\n    );\n  }\n\n  const padding = 40;\n  const chartWidth = width - padding * 2;\n  const chartHeight = height - padding * 2;\n  const barWidth = chartWidth / data.length - 20;\n  const maxValue = Math.max(...data.map(d => d.value));\n\n  return (\n    <svg width={width} height={height} style={{ background: colors.bg.primary, borderRadius: 8 }}>\n      {data.map((d, i) => {\n        const barHeight = (d.value / maxValue) * chartHeight;\n        const x = padding + i * (chartWidth / data.length) + 10;\n        const y = padding + chartHeight - barHeight;\n\n        return (\n          <g key={i}>\n            <rect\n              x={x}\n              y={y}\n              width={barWidth}\n              height={barHeight}\n              fill={d.color || colors.primary}\n              rx={6}\n            />\n            <text\n              x={x + barWidth / 2}\n              y={height - padding + 20}\n              fill={colors.text.muted}\n              fontSize={12}\n              textAnchor=\"middle\"\n            >\n              {d.label}\n            </text>\n            <text\n              x={x + barWidth / 2}\n              y={y - 8}\n              fill={colors.text.primary}\n              fontSize={12}\n              fontWeight={600}\n              textAnchor=\"middle\"\n            >\n              {d.value}\n            </text>\n          </g>\n        );\n      })}\n    </svg>\n  );\n}\n\n/* -------------------------\n   Analytics Page\n-------------------------- */\n\nexport default function Analytics() {\n  const toast = useToast();\n  const [loading, setLoading] = useState(true);\n  const [trades, setTrades] = useState([]);\n  const [positions, setPositions] = useState({ open: [], closed: [] });\n  const [metrics, setMetrics] = useState(null);\n\n  useEffect(() => {\n    loadData();\n    const interval = setInterval(loadData, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  async function loadData() {\n    try {\n      const [tradesData, positionsData] = await Promise.all([\n        getTodayTrades(),\n        getTodayPositions()\n      ]);\n\n      setTrades(tradesData || []);\n      setPositions(positionsData || { open: [], closed: [] });\n      \n      calculateMetrics(positionsData?.closed || [], positionsData?.open || []);\n    } catch (error) {\n      console.error(\"Failed to load analytics:\", error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function calculateMetrics(closed, open) {\n    const allTrades = [...closed];\n    \n    if (allTrades.length === 0) {\n      setMetrics(null);\n      return;\n    }\n\n    const wins = allTrades.filter(t => safeNum(t.pnl) > 0).length;\n    const losses = allTrades.filter(t => safeNum(t.pnl) < 0).length;\n    const total = allTrades.length;\n    const winRate = total > 0 ? (wins / total) * 100 : 0;\n\n    const totalPnL = allTrades.reduce((sum, t) => sum + safeNum(t.pnl), 0);\n    const avgPnL = total > 0 ? totalPnL / total : 0;\n    const avgWin = wins > 0 \n      ? allTrades.filter(t => safeNum(t.pnl) > 0).reduce((sum, t) => sum + safeNum(t.pnl), 0) / wins \n      : 0;\n    const avgLoss = losses > 0\n      ? allTrades.filter(t => safeNum(t.pnl) < 0).reduce((sum, t) => sum + safeNum(t.pnl), 0) / losses\n      : 0;\n\n    const bestTrade = allTrades.reduce((max, t) => \n      safeNum(t.pnl) > safeNum(max.pnl) ? t : max, allTrades[0] || {});\n    const worstTrade = allTrades.reduce((min, t) => \n      safeNum(t.pnl) < safeNum(min.pnl) ? t : min, allTrades[0] || {});\n\n    const unrealisedPnL = open.reduce((sum, t) => sum + safeNum(t.pnl), 0);\n\n    const grossProfit = allTrades.filter(t => safeNum(t.pnl) > 0).reduce((sum, t) => sum + safeNum(t.pnl), 0);\n    const grossLoss = Math.abs(allTrades.filter(t => safeNum(t.pnl) < 0).reduce((sum, t) => sum + safeNum(t.pnl), 0));\n    const profitFactor = grossLoss > 0 ? grossProfit / grossLoss : grossProfit > 0 ? Infinity : 0;\n\n    setMetrics({\n      totalTrades: total,\n      wins,\n      losses,\n      winRate,\n      totalPnL,\n      avgPnL,\n      avgWin,\n      avgLoss,\n      bestTrade,\n      worstTrade,\n      unrealisedPnL,\n      profitFactor\n    });\n  }\n\n  // Export handlers\n  function handleExportTradesCSV() {\n    const formattedTrades = formatTradesForExport(positions.closed);\n    exportToCSV(formattedTrades, generateFilename('trades', 'csv'));\n    toast.success('Export Complete', 'Trades exported to CSV');\n  }\n\n  function handleExportTradesExcel() {\n    const formattedTrades = formatTradesForExport(positions.closed);\n    exportToExcel(formattedTrades, generateFilename('trades', 'xlsx'));\n    toast.success('Export Complete', 'Trades exported to Excel');\n  }\n\n  function handleExportDetailedTrades() {\n    const detailedTrades = formatDetailedTradesForExport(positions.closed);\n    exportToCSV(detailedTrades, generateFilename('detailed_trades', 'csv'));\n    toast.success('Export Complete', 'Detailed trades exported with individual legs');\n  }\n\n  function handleExportTradeJournal() {\n    const journal = formatTradeJournalForExport(positions.closed);\n    exportToCSV(journal, generateFilename('trade_journal', 'csv'));\n    toast.success('Export Complete', 'Trade journal exported with all entries/exits');\n  }\n\n  function handleExportSummary() {\n    const summary = formatPerformanceSummary(metrics, positions);\n    exportToCSV(summary, generateFilename('performance_summary', 'csv'));\n    toast.success('Export Complete', 'Summary exported to CSV');\n  }\n\n  async function handleCopyToClipboard() {\n    const summary = formatPerformanceSummary(metrics, positions);\n    const text = summary.map(row => `${row.Metric}: ${row.Value}`).join('\\n');\n    const success = await copyToClipboard(text);\n    if (success) {\n      toast.success('Copied!', 'Summary copied to clipboard');\n    } else {\n      toast.error('Copy Failed', 'Could not copy to clipboard');\n    }\n  }\n\n  if (loading) {\n    return (\n      <>\n        <LoadingAnimations />\n        <FullPageLoader message=\"Loading analytics...\" />\n      </>\n    );\n  }\n\n  const hasTrades = positions.closed.length > 0;\n\n  // Prepare chart data\n  const equityCurveData = positions.closed.map((t, i) => ({\n    label: `${i + 1}`,\n    value: positions.closed.slice(0, i + 1).reduce((sum, tr) => sum + safeNum(tr.pnl), 0)\n  }));\n\n  const distributionData = metrics ? [\n    { label: \"Wins\", value: metrics.wins, color: colors.profit },\n    { label: \"Losses\", value: metrics.losses, color: colors.loss }\n  ] : [];\n\n  return (\n    <div style={{\n      padding: spacing.xxl,\n      background: colors.bg.primary,\n      color: colors.text.primary,\n      minHeight: \"100vh\",\n      fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif\"\n    }}>\n      {/* Header */}\n      <div style={{ marginBottom: spacing.xxl }}>\n        <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", marginBottom: spacing.md }}>\n          <div>\n            <h1 style={{ margin: 0, ...typography.displayLarge, color: colors.text.primary }}>\n              Performance Analytics\n            </h1>\n            <p style={{ margin: 0, marginTop: spacing.xs, ...typography.bodyMedium, color: colors.text.tertiary }}>\n              Comprehensive trading performance metrics and insights\n            </p>\n          </div>\n          \n          {hasTrades && (\n            <div style={{ display: \"flex\", gap: spacing.sm, flexWrap: \"wrap\" }}>\n              <button\n                onClick={handleExportTradesCSV}\n                style={{\n                  padding: \"8px 16px\",\n                  borderRadius: 6,\n                  border: `1px solid ${colors.border.light}`,\n                  background: colors.bg.secondary,\n                  color: colors.text.primary,\n                  fontSize: 13,\n                  fontWeight: 600,\n                  cursor: \"pointer\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 6,\n                  transition: \"all 0.2s ease\"\n                }}\n                onMouseEnter={(e) => e.target.style.background = colors.bg.tertiary}\n                onMouseLeave={(e) => e.target.style.background = colors.bg.secondary}\n                title=\"Export summarized trades\"\n              >\n                ðŸ“„ CSV\n              </button>\n              \n              <button\n                onClick={handleExportTradesExcel}\n                style={{\n                  padding: \"8px 16px\",\n                  borderRadius: 6,\n                  border: `1px solid ${colors.border.light}`,\n                  background: colors.bg.secondary,\n                  color: colors.text.primary,\n                  fontSize: 13,\n                  fontWeight: 600,\n                  cursor: \"pointer\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 6,\n                  transition: \"all 0.2s ease\"\n                }}\n                onMouseEnter={(e) => e.target.style.background = colors.bg.tertiary}\n                onMouseLeave={(e) => e.target.style.background = colors.bg.secondary}\n                title=\"Export to Excel\"\n              >\n                ðŸ“Š Excel\n              </button>\n              \n              <button\n                onClick={handleExportDetailedTrades}\n                style={{\n                  padding: \"8px 16px\",\n                  borderRadius: 6,\n                  border: `1px solid ${colors.border.light}`,\n                  background: colors.bg.secondary,\n                  color: colors.text.primary,\n                  fontSize: 13,\n                  fontWeight: 600,\n                  cursor: \"pointer\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 6,\n                  transition: \"all 0.2s ease\"\n                }}\n                onMouseEnter={(e) => e.target.style.background = colors.bg.tertiary}\n                onMouseLeave={(e) => e.target.style.background = colors.bg.secondary}\n                title=\"Export with individual trade legs\"\n              >\n                ðŸ“‹ Detailed\n              </button>\n              \n              <button\n                onClick={handleExportTradeJournal}\n                style={{\n                  padding: \"8px 16px\",\n                  borderRadius: 6,\n                  border: `1px solid ${colors.border.light}`,\n                  background: colors.bg.secondary,\n                  color: colors.text.primary,\n                  fontSize: 13,\n                  fontWeight: 600,\n                  cursor: \"pointer\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 6,\n                  transition: \"all 0.2s ease\"\n                }}\n                onMouseEnter={(e) => e.target.style.background = colors.bg.tertiary}\n                onMouseLeave={(e) => e.target.style.background = colors.bg.secondary}\n                title=\"Export complete trade journal with all entries/exits\"\n              >\n                ðŸ“– Journal\n              </button>\n              \n              <button\n                onClick={handleExportSummary}\n                style={{\n                  padding: \"8px 16px\",\n                  borderRadius: 6,\n                  border: `1px solid ${colors.border.light}`,\n                  background: colors.bg.secondary,\n                  color: colors.text.primary,\n                  fontSize: 13,\n                  fontWeight: 600,\n                  cursor: \"pointer\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 6,\n                  transition: \"all 0.2s ease\"\n                }}\n                onMouseEnter={(e) => e.target.style.background = colors.bg.tertiary}\n                onMouseLeave={(e) => e.target.style.background = colors.bg.secondary}\n                title=\"Export performance summary\"\n              >\n                ðŸ“Š Summary\n              </button>\n              \n              <button\n                onClick={handleCopyToClipboard}\n                style={{\n                  padding: \"8px 16px\",\n                  borderRadius: 6,\n                  border: `1px solid ${colors.primary}`,\n                  background: colors.primary,\n                  color: colors.text.primary,\n                  fontSize: 13,\n                  fontWeight: 600,\n                  cursor: \"pointer\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 6,\n                  transition: \"all 0.2s ease\"\n                }}\n                onMouseEnter={(e) => e.target.style.opacity = 0.9}\n                onMouseLeave={(e) => e.target.style.opacity = 1}\n                title=\"Copy summary to clipboard\"\n              >\n                ðŸ“‹ Copy\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {!hasTrades ? (\n        <Card style={{ padding: spacing.xxl }}>\n          <EmptyState\n            icon=\"ðŸ“Š\"\n            title=\"No trades yet\"\n            description=\"Analytics will appear here once you complete your first trade of the day.\"\n          />\n        </Card>\n      ) : (\n        <>\n          {/* Key Metrics Grid */}\n          <div style={{\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\n            gap: spacing.md,\n            marginBottom: spacing.lg\n          }}>\n            <MetricCard\n              label=\"Total P&L\"\n              value={`â‚¹${Math.round(metrics.totalPnL).toLocaleString('en-IN')}`}\n              isPositive={metrics.totalPnL > 0}\n              subValue={`${metrics.totalTrades} trades completed`}\n            />\n            <MetricCard\n              label=\"Win Rate\"\n              value={`${metrics.winRate.toFixed(1)}%`}\n              isPositive={metrics.winRate >= 50}\n              subValue={`${metrics.wins}W / ${metrics.losses}L`}\n            />\n            <MetricCard\n              label=\"Average P&L\"\n              value={`â‚¹${Math.round(metrics.avgPnL).toLocaleString('en-IN')}`}\n              isPositive={metrics.avgPnL > 0}\n              subValue=\"Per trade\"\n            />\n            <MetricCard\n              label=\"Profit Factor\"\n              value={metrics.profitFactor === Infinity ? \"âˆž\" : metrics.profitFactor.toFixed(2)}\n              isPositive={metrics.profitFactor > 1}\n              subValue=\"Gross profit / loss\"\n            />\n          </div>\n\n          {/* Charts Row */}\n          <div style={{\n            display: \"grid\",\n            gridTemplateColumns: \"1fr 1fr\",\n            gap: spacing.md,\n            marginBottom: spacing.lg\n          }}>\n            {/* Equity Curve */}\n            <Card style={{ padding: spacing.lg }}>\n              <h3 style={{ margin: 0, marginBottom: spacing.md, ...typography.headingMedium }}>\n                Equity Curve\n              </h3>\n              <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                <SimpleLineChart \n                  data={equityCurveData}\n                  width={550}\n                  height={250}\n                  color={colors.primary}\n                />\n              </div>\n            </Card>\n\n            {/* Win/Loss Distribution */}\n            <Card style={{ padding: spacing.lg }}>\n              <h3 style={{ margin: 0, marginBottom: spacing.md, ...typography.headingMedium }}>\n                Trade Distribution\n              </h3>\n              <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                <SimpleBarChart \n                  data={distributionData}\n                  width={550}\n                  height={250}\n                />\n              </div>\n            </Card>\n          </div>\n\n          {/* Additional Metrics */}\n          <div style={{\n            display: \"grid\",\n            gridTemplateColumns: \"1fr 1fr\",\n            gap: spacing.md\n          }}>\n            {/* Best & Worst Trades */}\n            <Card style={{ padding: spacing.lg }}>\n              <h3 style={{ margin: 0, marginBottom: spacing.md, ...typography.headingMedium }}>\n                Best & Worst Trades\n              </h3>\n              <div style={{ display: \"flex\", flexDirection: \"column\", gap: spacing.md }}>\n                <div style={{\n                  padding: spacing.md,\n                  background: colors.profitBg,\n                  borderRadius: 6,\n                  border: `1px solid ${colors.profit}40`\n                }}>\n                  <div style={{ ...typography.bodySmall, color: colors.text.muted, marginBottom: spacing.xs }}>\n                    Best Trade\n                  </div>\n                  <div style={{ ...typography.mono, fontSize: 13, color: colors.text.secondary, marginBottom: 4 }}>\n                    {metrics.bestTrade.tradingsymbol || \"N/A\"}\n                  </div>\n                  <div style={{ ...typography.headingMedium, color: colors.profit }}>\n                    +â‚¹{Math.round(safeNum(metrics.bestTrade.pnl)).toLocaleString('en-IN')}\n                  </div>\n                </div>\n\n                <div style={{\n                  padding: spacing.md,\n                  background: colors.lossBg,\n                  borderRadius: 6,\n                  border: `1px solid ${colors.loss}40`\n                }}>\n                  <div style={{ ...typography.bodySmall, color: colors.text.muted, marginBottom: spacing.xs }}>\n                    Worst Trade\n                  </div>\n                  <div style={{ ...typography.mono, fontSize: 13, color: colors.text.secondary, marginBottom: 4 }}>\n                    {metrics.worstTrade.tradingsymbol || \"N/A\"}\n                  </div>\n                  <div style={{ ...typography.headingMedium, color: colors.loss }}>\n                    â‚¹{Math.round(safeNum(metrics.worstTrade.pnl)).toLocaleString('en-IN')}\n                  </div>\n                </div>\n              </div>\n            </Card>\n\n            {/* Average Win/Loss */}\n            <Card style={{ padding: spacing.lg }}>\n              <h3 style={{ margin: 0, marginBottom: spacing.md, ...typography.headingMedium }}>\n                Average Performance\n              </h3>\n              <div style={{ display: \"flex\", flexDirection: \"column\", gap: spacing.md }}>\n                <div>\n                  <div style={{ ...typography.bodySmall, color: colors.text.muted, marginBottom: spacing.xs }}>\n                    Average Win\n                  </div>\n                  <div style={{ ...typography.headingMedium, ...typography.mono, color: colors.profit }}>\n                    +â‚¹{Math.round(metrics.avgWin).toLocaleString('en-IN')}\n                  </div>\n                </div>\n\n                <div>\n                  <div style={{ ...typography.bodySmall, color: colors.text.muted, marginBottom: spacing.xs }}>\n                    Average Loss\n                  </div>\n                  <div style={{ ...typography.headingMedium, ...typography.mono, color: colors.loss }}>\n                    â‚¹{Math.round(metrics.avgLoss).toLocaleString('en-IN')}\n                  </div>\n                </div>\n\n                <div style={{\n                  paddingTop: spacing.md,\n                  borderTop: `1px solid ${colors.border.dark}`\n                }}>\n                  <div style={{ ...typography.bodySmall, color: colors.text.muted, marginBottom: spacing.xs }}>\n                    Risk/Reward Ratio\n                  </div>\n                  <div style={{ ...typography.headingMedium, ...typography.mono, color: colors.text.primary }}>\n                    {metrics.avgLoss !== 0 \n                      ? `1:${Math.abs(metrics.avgWin / metrics.avgLoss).toFixed(2)}`\n                      : \"N/A\"}\n                  </div>\n                </div>\n              </div>\n            </Card>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}