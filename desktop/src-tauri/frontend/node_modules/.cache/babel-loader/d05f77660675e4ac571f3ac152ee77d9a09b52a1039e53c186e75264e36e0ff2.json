{"ast":null,"code":"import _objectSpread from\"/Users/anbu/dev/scalp-app/desktop/src-tauri/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from\"react\";import{LoadingAnimations,FullPageLoader,EmptyState}from\"../components/LoadingStates\";import{useToast}from\"../components/ToastNotifications\";import{exportToCSV,generateFilename}from\"../utils/export\";import{getApiBase}from\"../api/base\";/* -------------------------\n   Design System\n-------------------------- */import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const spacing={sm:8,md:12,lg:16,xl:20,xxl:24};const typography={displayLarge:{fontSize:28,fontWeight:700,lineHeight:1.2},headingLarge:{fontSize:18,fontWeight:600,lineHeight:1.4},headingMedium:{fontSize:16,fontWeight:600,lineHeight:1.4},bodyMedium:{fontSize:13,fontWeight:400,lineHeight:1.5},bodySmall:{fontSize:12,fontWeight:400,lineHeight:1.4},label:{fontSize:11,fontWeight:500,lineHeight:1.3,letterSpacing:'0.5px',textTransform:'uppercase'},mono:{fontFamily:\"'JetBrains Mono', 'Fira Code', monospace\",fontVariantNumeric:\"tabular-nums\"}};const colors={profit:\"#10b981\",profitBg:\"rgba(16, 185, 129, 0.1)\",loss:\"#ef4444\",lossBg:\"rgba(239, 68, 68, 0.1)\",neutral:\"#6b7280\",primary:\"#2563eb\",success:\"#059669\",successBg:\"rgba(5, 150, 105, 0.12)\",warning:\"#d97706\",warningBg:\"rgba(217, 119, 6, 0.12)\",bg:{primary:\"#020817\",secondary:\"#0f172a\",tertiary:\"#1e293b\"},border:{light:\"#334155\",dark:\"#1e293b\"},text:{primary:\"#f8fafc\",secondary:\"#cbd5e1\",tertiary:\"#94a3b8\",muted:\"#64748b\"}};function isWithinDateRange(ts,startDate,endDate){if(!ts)return false;const tradeDate=new Date(ts*1000).toISOString().slice(0,10);return tradeDate>=startDate&&tradeDate<=endDate;}function getTodayRange(){const today=new Date().toISOString().slice(0,10);return{start:today,end:today};}function getThisMonthRange(){const now=new Date();const firstDay=new Date(now.getFullYear(),now.getMonth(),1);return{start:firstDay.toISOString().slice(0,10),end:now.toISOString().slice(0,10)};}function getThisWeekRange(){const now=new Date();const day=now.getDay();// 0=Sun, 1=Mon\nconst diff=day===0?6:day-1;// Monday as start\nconst monday=new Date(now);monday.setDate(now.getDate()-diff);return{start:monday.toISOString().slice(0,10),end:now.toISOString().slice(0,10)};}function getAllTimeRange(){return{start:\"2000-01-01\",end:\"2100-12-31\"};}/* -------------------------\n   Card Component\n-------------------------- */function Card(_ref){let{children,style,elevated}=_ref;return/*#__PURE__*/_jsx(\"div\",{style:_objectSpread({background:elevated?colors.bg.tertiary:colors.bg.secondary,border:\"1px solid \".concat(colors.border.light),borderRadius:8,boxShadow:elevated?\"0 4px 6px -1px rgba(0, 0, 0, 0.3)\":\"0 1px 3px rgba(0, 0, 0, 0.2)\"},style),children:children});}/* -------------------------\n   Status Badge\n-------------------------- */function StatusBadge(_ref2){let{type,text}=_ref2;const styles={open:{bg:colors.warningBg,color:colors.warning,border:colors.warning},closed:{bg:colors.bg.tertiary,color:colors.text.muted,border:colors.border.light}};const style=styles[type]||styles.closed;return/*#__PURE__*/_jsx(\"span\",{style:{padding:\"4px 10px\",borderRadius:6,fontSize:11,fontWeight:600,background:style.bg,color:style.color,border:\"1px solid \".concat(style.border,\"40\"),display:\"inline-block\",textTransform:\"uppercase\",letterSpacing:\"0.3px\"},children:text});}/* -------------------------\n   Helper Functions\n-------------------------- */function formatTimestamp(timestamp){if(!timestamp)return\"‚Äî\";const date=new Date(timestamp*1000);// Unix timestamp to JS Date\nreturn date.toLocaleString('en-IN',{year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false});}const pnlStyle=v=>({color:v>0?colors.profit:v<0?colors.loss:colors.neutral,fontWeight:600});const BROKERAGE_PER_TRADE=40;function scaleTrade(trade,selectedLots){if(!trade||!trade.lots||trade.lots===0)return trade;const scale=selectedLots/trade.lots;const gross=(trade.pnl_value||0)*scale;const totalCharges=trade.total_charges||0;const variableCharges=Math.max(totalCharges-BROKERAGE_PER_TRADE,0);const scaledCharges=BROKERAGE_PER_TRADE+variableCharges*scale;return _objectSpread(_objectSpread({},trade),{},{_scale:scale,scaled_pnl_value:gross,scaled_charges:scaledCharges,scaled_net_pnl:gross-scaledCharges});}/* -------------------------\n   Paper Trades Page\n-------------------------- */export default function PaperTrades(){const toast=useToast();const[loading,setLoading]=useState(true);const[paperTrades,setPaperTrades]=useState({open:[],closed:[]});const[selectedLots,setSelectedLots]=useState(1);const todayStr=new Date().toISOString().slice(0,10);const[startDate,setStartDate]=useState(todayStr);const[endDate,setEndDate]=useState(todayStr);const[activeQuickFilter,setActiveQuickFilter]=useState(\"TODAY\");function applyQuickFilter(type){let range;if(type===\"TODAY\")range=getTodayRange();else if(type===\"WEEK\")range=getThisWeekRange();else if(type===\"MONTH\")range=getThisMonthRange();else range=getAllTimeRange();setStartDate(range.start);setEndDate(range.end);setActiveQuickFilter(type);}useEffect(()=>{loadPaperTrades();const interval=setInterval(loadPaperTrades,10000);// Refresh every 10s\nreturn()=>clearInterval(interval);},[]);async function loadPaperTrades(){try{const response=await fetch(\"\".concat(getApiBase().replace(/\\/$/,\"\"),\"/paper_trades\"));if(!response.ok)throw new Error('Failed to fetch paper trades');const data=await response.json();console.log(\"PAPER TRADES RAW API DATA\",data);setPaperTrades({open:Array.isArray(data.open)?data.open:[],closed:Array.isArray(data.closed)?data.closed:[]});}catch(error){console.error('Error loading paper trades:',error);setPaperTrades({open:[],closed:[]});toast.error('Load Failed','Could not load paper trades');}finally{setLoading(false);}}function handleExportCSV(){if(allTrades.length===0){toast.warning(\"No Data\",\"No paper trades to export\");return;}const grossPnL=Math.round(totalGrossPnL);const netPnL=Math.round(totalNetPnL);const totalCharges=Math.round(scaledClosedTrades.reduce((s,t)=>s+(t.scaled_charges||0),0));// -----------------------------\n// CSV rows (SAME columns)\n// -----------------------------\nconst csvRows=[{Strategy:\"SUMMARY\",Symbol:\"\",Side:\"\",Entry_Time:\"Start Date: \".concat(startDate),Exit_Time:\"End Date: \".concat(endDate),Lots:selectedLots,Gross_PnL:grossPnL,Charges:totalCharges,Net_PnL:netPnL,State:\"\"},{},// blank row\n{Strategy:\"Strategy\",Symbol:\"Symbol\",Side:\"Side\",Entry_Time:\"Entry Time\",Exit_Time:\"Exit Time\",Lots:\"Lots\",Gross_PnL:\"Gross P/L\",Charges:\"Charges\",Net_PnL:\"Net P/L\",State:\"State\"}];// -----------------------------\n// Trade rows\n// -----------------------------\nallTrades.forEach(trade=>{csvRows.push({Strategy:trade.strategy_name||\"\",Symbol:trade.symbol||\"\",Side:trade.side||\"\",Entry_Time:formatTimestamp(trade.entry_time),Exit_Time:trade.exit_time?formatTimestamp(trade.exit_time):\"\",Lots:selectedLots,Gross_PnL:Math.round(trade.scaled_pnl_value||0),Charges:Math.round(trade.scaled_charges||0),Net_PnL:Math.round(trade.scaled_net_pnl||0),State:trade.state||\"\"});});exportToCSV(csvRows,generateFilename(\"paper_trades\",\"csv\"));toast.success(\"Export Complete\",\"\".concat(allTrades.length,\" paper trades exported\"));}if(loading){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LoadingAnimations,{}),/*#__PURE__*/_jsx(FullPageLoader,{message:\"Loading paper trades...\"})]});}/* -------------------------\n     Scaled Trades (UI-SCALE)\n  -------------------------- */// 1Ô∏è‚É£ Filter by selected date range (entry_time)\nconst filteredOpenTrades=Array.isArray(paperTrades.open)?paperTrades.open.filter(t=>isWithinDateRange(t.entry_time,startDate,endDate)):[];const filteredClosedTrades=Array.isArray(paperTrades.closed)?paperTrades.closed.filter(t=>isWithinDateRange(t.entry_time,startDate,endDate)):[];// 2Ô∏è‚É£ Apply UI lot scaling AFTER filtering\nconst scaledOpenTrades=filteredOpenTrades.map(t=>scaleTrade(t,selectedLots));const scaledClosedTrades=filteredClosedTrades.map(t=>scaleTrade(t,selectedLots));const allTrades=[...scaledOpenTrades,...scaledClosedTrades];const hasTrades=allTrades.length>0;// Calculate summary stats\nconst totalGrossPnL=scaledClosedTrades.reduce((sum,t)=>sum+(t.scaled_pnl_value||0),0);const totalNetPnL=scaledClosedTrades.reduce((sum,t)=>sum+(t.scaled_net_pnl||0),0);const wins=filteredClosedTrades.filter(t=>{var _t$pnl_value;return((_t$pnl_value=t.pnl_value)!==null&&_t$pnl_value!==void 0?_t$pnl_value:0)>0;}).length;const losses=filteredClosedTrades.filter(t=>{var _t$pnl_value2;return((_t$pnl_value2=t.pnl_value)!==null&&_t$pnl_value2!==void 0?_t$pnl_value2:0)<0;}).length;const decisiveTrades=wins+losses;const winRate=decisiveTrades>0?wins/decisiveTrades*100:0;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:spacing.xxl,background:colors.bg.primary,color:colors.text.primary,minHeight:\"100vh\",fontFamily:\"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:spacing.xxl},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"flex-start\",justifyContent:\"space-between\",marginBottom:spacing.md,gap:spacing.lg},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:_objectSpread(_objectSpread({margin:0},typography.displayLarge),{},{color:colors.text.primary}),children:\"\\uD83D\\uDCDD Paper Trades\"}),/*#__PURE__*/_jsx(\"p\",{style:_objectSpread(_objectSpread({margin:0,marginTop:spacing.xs},typography.bodyMedium),{},{color:colors.text.tertiary}),children:\"Simulated trades for testing strategies without risk\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:spacing.sm},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6},children:[{id:\"TODAY\",label:\"Today\"},{id:\"WEEK\",label:\"This Week\"},{id:\"MONTH\",label:\"This Month\"},{id:\"ALL\",label:\"All Time\"}].map(btn=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>applyQuickFilter(btn.id),style:{padding:\"6px 10px\",borderRadius:6,fontSize:12,fontWeight:600,border:\"1px solid \".concat(colors.border.light),background:activeQuickFilter===btn.id?colors.bg.tertiary:colors.bg.secondary,color:colors.text.primary,cursor:\"pointer\"},children:btn.label},btn.id))}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:6,fontSize:12,color:colors.text.tertiary},children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:startDate,onChange:e=>{setStartDate(e.target.value);setActiveQuickFilter(\"CUSTOM\");},style:{padding:\"6px 8px\",borderRadius:6,border:\"1px solid \".concat(colors.border.light),background:colors.bg.secondary,color:colors.text.primary}}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2192\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:endDate,onChange:e=>setEndDate(e.target.value),style:{padding:\"6px 8px\",borderRadius:6,border:\"1px solid \".concat(colors.border.light),background:colors.bg.secondary,color:colors.text.primary}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:6,fontSize:12,color:colors.text.tertiary},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:500},children:\"Lots\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedLots,onChange:e=>setSelectedLots(Number(e.target.value)),style:{padding:\"8px 10px\",borderRadius:6,border:\"1px solid \".concat(colors.border.light),background:colors.bg.secondary,color:colors.text.primary,fontSize:13,fontWeight:600,cursor:\"pointer\"},children:Array.from({length:10},(_,i)=>i+1).map(lot=>/*#__PURE__*/_jsx(\"option\",{value:lot,children:lot},lot))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportCSV,style:{padding:\"8px 16px\",borderRadius:6,border:\"1px solid \".concat(colors.border.light),background:colors.bg.secondary,color:colors.text.primary,fontSize:13,fontWeight:600,cursor:\"pointer\",display:\"flex\",alignItems:\"center\",gap:6,transition:\"all 0.2s ease\"},onMouseEnter:e=>e.currentTarget.style.background=colors.bg.tertiary,onMouseLeave:e=>e.currentTarget.style.background=colors.bg.secondary,children:\"\\uD83D\\uDCC4 Download CSV\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(200px, 1fr))\",gap:spacing.md,marginBottom:spacing.lg},children:[/*#__PURE__*/_jsxs(Card,{elevated:true,style:{padding:spacing.lg},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.label),{},{color:colors.text.muted,marginBottom:spacing.sm}),children:\"Gross P/L\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread(_objectSpread({},typography.headingLarge),{},{fontSize:24},typography.mono),pnlStyle(totalGrossPnL)),children:[totalGrossPnL>0?'+':'',\"\\u20B9\",Math.round(totalGrossPnL).toLocaleString('en-IN')]})]}),/*#__PURE__*/_jsxs(Card,{elevated:true,style:{padding:spacing.lg},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.label),{},{color:colors.text.muted,marginBottom:spacing.sm}),children:\"Net P/L (After Charges)\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread(_objectSpread({},typography.headingLarge),{},{fontSize:24},typography.mono),pnlStyle(totalNetPnL)),children:[totalNetPnL>0?'+':'',\"\\u20B9\",Math.round(totalNetPnL).toLocaleString('en-IN')]})]}),/*#__PURE__*/_jsxs(Card,{elevated:true,style:{padding:spacing.lg},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.label),{},{color:colors.text.muted,marginBottom:spacing.sm}),children:\"Win Rate\"}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},typography.headingLarge),{},{fontSize:24,color:winRate>=50?colors.profit:colors.loss}),children:[winRate.toFixed(1),\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},typography.bodySmall),{},{color:colors.text.tertiary,marginTop:spacing.xs}),children:[wins,\"W / \",losses,\"L\"]})]}),/*#__PURE__*/_jsxs(Card,{elevated:true,style:{padding:spacing.lg},children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.label),{},{color:colors.text.muted,marginBottom:spacing.sm}),children:\"Total Trades\"}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},typography.headingLarge),{},{fontSize:24,color:colors.text.primary}),children:filteredOpenTrades.length+filteredClosedTrades.length}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},typography.bodySmall),{},{color:colors.text.tertiary,marginTop:spacing.xs}),children:[filteredOpenTrades.length,\" open / \",filteredClosedTrades.length,\" closed\"]})]})]}),/*#__PURE__*/_jsx(Card,{children:!hasTrades?/*#__PURE__*/_jsx(\"div\",{style:{padding:spacing.xxl},children:/*#__PURE__*/_jsx(EmptyState,{icon:\"\\uD83D\\uDCDD\",title:\"No paper trades yet\",description:\"Paper trades will appear here once you switch to Paper Trading mode in Settings and start trading.\"})}):/*#__PURE__*/_jsx(\"div\",{style:{overflowX:\"auto\"},children:/*#__PURE__*/_jsxs(\"table\",{style:_objectSpread({width:\"100%\",borderCollapse:\"collapse\"},typography.bodyMedium),children:[/*#__PURE__*/_jsx(\"thead\",{style:{background:colors.bg.tertiary},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:th,children:\"Strategy\"}),/*#__PURE__*/_jsx(\"th\",{style:th,children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{style:th,children:\"Side\"}),/*#__PURE__*/_jsx(\"th\",{style:th,children:\"Entry Time\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},th),{},{textAlign:\"right\"}),children:\"Entry Price\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},th),{},{textAlign:\"right\"}),children:\"SL\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},th),{},{textAlign:\"right\"}),children:\"TP\"}),/*#__PURE__*/_jsx(\"th\",{style:th,children:\"Exit Time\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},th),{},{textAlign:\"right\"}),children:\"Exit Price\"}),/*#__PURE__*/_jsx(\"th\",{style:th,children:\"Exit Reason\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},th),{},{textAlign:\"right\"}),children:\"P/L Points\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},th),{},{textAlign:\"right\"}),children:\"P/L Value\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},th),{},{textAlign:\"right\"}),children:\"Charges\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},th),{},{textAlign:\"right\"}),children:\"Net P/L\"}),/*#__PURE__*/_jsx(\"th\",{style:_objectSpread(_objectSpread({},th),{},{textAlign:\"center\"}),children:\"State\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allTrades.map((trade,i)=>{const pnlValue=trade.scaled_pnl_value||0;const charges=trade.scaled_charges||0;const netPnl=trade.scaled_net_pnl||0;const pnlPoints=trade.pnl_points||0;return/*#__PURE__*/_jsxs(\"tr\",{style:{background:i%2?colors.bg.secondary:colors.bg.primary,borderTop:\"1px solid \".concat(colors.border.dark),transition:\"background 0.15s ease\"},onMouseEnter:e=>e.currentTarget.style.background=colors.bg.tertiary,onMouseLeave:e=>e.currentTarget.style.background=i%2?colors.bg.secondary:colors.bg.primary,children:[/*#__PURE__*/_jsx(\"td\",{style:td,children:trade.strategy_name||\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{fontWeight:600}),children:trade.symbol||\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:td,children:/*#__PURE__*/_jsx(\"span\",{style:{padding:\"2px 8px\",borderRadius:4,background:trade.side===\"CE\"?colors.successBg:colors.lossBg,color:trade.side===\"CE\"?colors.success:colors.loss,fontSize:11,fontWeight:600},children:trade.side||\"‚Äî\"})}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{fontSize:11}),children:formatTimestamp(trade.entry_time)}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{textAlign:\"right\"}),children:trade.entry_price?trade.entry_price.toFixed(2):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{textAlign:\"right\",color:colors.text.tertiary}),children:trade.sl_price?trade.sl_price.toFixed(2):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{textAlign:\"right\",color:colors.text.tertiary}),children:trade.tp_price?trade.tp_price.toFixed(2):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{fontSize:11}),children:trade.exit_time?formatTimestamp(trade.exit_time):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{textAlign:\"right\"}),children:trade.exit_price?trade.exit_price.toFixed(2):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:td,children:trade.exit_reason?/*#__PURE__*/_jsx(\"span\",{style:{padding:\"2px 6px\",borderRadius:4,background:trade.exit_reason===\"TP\"?colors.successBg:colors.lossBg,fontSize:11,fontWeight:600},children:trade.exit_reason}):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{textAlign:\"right\"},pnlStyle(pnlPoints)),children:trade.state===\"CLOSED\"&&pnlPoints!==0?\"\".concat(pnlPoints>0?'+':'').concat(pnlPoints.toFixed(2)):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{textAlign:\"right\"},pnlStyle(pnlValue)),children:trade.state===\"CLOSED\"?\"\".concat(pnlValue>0?'+':'',\"\\u20B9\").concat(Math.round(pnlValue).toLocaleString('en-IN')):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{textAlign:\"right\",color:colors.text.tertiary}),children:trade.state===\"CLOSED\"?\"\\u20B9\".concat(Math.round(charges).toLocaleString('en-IN')):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread(_objectSpread({},td),typography.mono),{},{textAlign:\"right\",fontWeight:600,color:trade.net_pnl>0?colors.profit:colors.loss,background:trade.state===\"CLOSED\"?trade.net_pnl>0?colors.profitBg:colors.lossBg:\"transparent\"}),children:trade.state===\"CLOSED\"?\"\".concat(netPnl>0?'+':'',\"\\u20B9\").concat(Math.round(netPnl).toLocaleString('en-IN')):\"‚Äî\"}),/*#__PURE__*/_jsx(\"td\",{style:_objectSpread(_objectSpread({},td),{},{textAlign:\"center\"}),children:/*#__PURE__*/_jsx(StatusBadge,{type:trade.state===\"OPEN\"?\"open\":\"closed\",text:trade.state||\"UNKNOWN\"})})]},trade.paper_trade_id||i);})})]})})})]});}/* -------------------------\n   Styles\n-------------------------- */const th=_objectSpread(_objectSpread({padding:\"12px 12px\",textAlign:\"left\"},typography.label),{},{color:colors.text.muted,borderBottom:\"2px solid \".concat(colors.border.light),fontWeight:600});const td=_objectSpread({padding:\"12px 12px\"},typography.bodyMedium);","map":{"version":3,"names":["useEffect","useState","LoadingAnimations","FullPageLoader","EmptyState","useToast","exportToCSV","generateFilename","getApiBase","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","spacing","sm","md","lg","xl","xxl","typography","displayLarge","fontSize","fontWeight","lineHeight","headingLarge","headingMedium","bodyMedium","bodySmall","label","letterSpacing","textTransform","mono","fontFamily","fontVariantNumeric","colors","profit","profitBg","loss","lossBg","neutral","primary","success","successBg","warning","warningBg","bg","secondary","tertiary","border","light","dark","text","muted","isWithinDateRange","ts","startDate","endDate","tradeDate","Date","toISOString","slice","getTodayRange","today","start","end","getThisMonthRange","now","firstDay","getFullYear","getMonth","getThisWeekRange","day","getDay","diff","monday","setDate","getDate","getAllTimeRange","Card","_ref","children","style","elevated","_objectSpread","background","concat","borderRadius","boxShadow","StatusBadge","_ref2","type","styles","open","color","closed","padding","display","formatTimestamp","timestamp","date","toLocaleString","year","month","hour","minute","second","hour12","pnlStyle","v","BROKERAGE_PER_TRADE","scaleTrade","trade","selectedLots","lots","scale","gross","pnl_value","totalCharges","total_charges","variableCharges","Math","max","scaledCharges","_scale","scaled_pnl_value","scaled_charges","scaled_net_pnl","PaperTrades","toast","loading","setLoading","paperTrades","setPaperTrades","setSelectedLots","todayStr","setStartDate","setEndDate","activeQuickFilter","setActiveQuickFilter","applyQuickFilter","range","loadPaperTrades","interval","setInterval","clearInterval","response","fetch","replace","ok","Error","data","json","console","log","Array","isArray","error","handleExportCSV","allTrades","length","grossPnL","round","totalGrossPnL","netPnL","totalNetPnL","scaledClosedTrades","reduce","s","t","csvRows","Strategy","Symbol","Side","Entry_Time","Exit_Time","Lots","Gross_PnL","Charges","Net_PnL","State","forEach","push","strategy_name","symbol","side","entry_time","exit_time","state","message","filteredOpenTrades","filter","filteredClosedTrades","scaledOpenTrades","map","hasTrades","sum","wins","_t$pnl_value","losses","_t$pnl_value2","decisiveTrades","winRate","minHeight","marginBottom","alignItems","justifyContent","gap","margin","marginTop","xs","id","btn","onClick","cursor","value","onChange","e","target","Number","from","_","i","lot","transition","onMouseEnter","currentTarget","onMouseLeave","gridTemplateColumns","toFixed","icon","title","description","overflowX","width","borderCollapse","th","textAlign","pnlValue","charges","netPnl","pnlPoints","pnl_points","borderTop","td","entry_price","sl_price","tp_price","exit_price","exit_reason","net_pnl","paper_trade_id","borderBottom"],"sources":["/Users/anbu/dev/scalp-app/desktop/src-tauri/frontend/src/pages/PaperTrades.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { LoadingAnimations, FullPageLoader, EmptyState } from \"../components/LoadingStates\";\nimport { useToast } from \"../components/ToastNotifications\";\nimport { exportToCSV, generateFilename } from \"../utils/export\";\nimport { getApiBase } from \"../api/base\";\n\n/* -------------------------\n   Design System\n-------------------------- */\n\nconst spacing = {\n  sm: 8,\n  md: 12,\n  lg: 16,\n  xl: 20,\n  xxl: 24\n};\n\nconst typography = {\n  displayLarge: { fontSize: 28, fontWeight: 700, lineHeight: 1.2 },\n  headingLarge: { fontSize: 18, fontWeight: 600, lineHeight: 1.4 },\n  headingMedium: { fontSize: 16, fontWeight: 600, lineHeight: 1.4 },\n  bodyMedium: { fontSize: 13, fontWeight: 400, lineHeight: 1.5 },\n  bodySmall: { fontSize: 12, fontWeight: 400, lineHeight: 1.4 },\n  label: { fontSize: 11, fontWeight: 500, lineHeight: 1.3, letterSpacing: '0.5px', textTransform: 'uppercase' },\n  mono: { fontFamily: \"'JetBrains Mono', 'Fira Code', monospace\", fontVariantNumeric: \"tabular-nums\" }\n};\n\nconst colors = {\n  profit: \"#10b981\",\n  profitBg: \"rgba(16, 185, 129, 0.1)\",\n  loss: \"#ef4444\",\n  lossBg: \"rgba(239, 68, 68, 0.1)\",\n  neutral: \"#6b7280\",\n  primary: \"#2563eb\",\n  success: \"#059669\",\n  successBg: \"rgba(5, 150, 105, 0.12)\",\n  warning: \"#d97706\",\n  warningBg: \"rgba(217, 119, 6, 0.12)\",\n  bg: {\n    primary: \"#020817\",\n    secondary: \"#0f172a\",\n    tertiary: \"#1e293b\",\n  },\n  border: {\n    light: \"#334155\",\n    dark: \"#1e293b\"\n  },\n  text: {\n    primary: \"#f8fafc\",\n    secondary: \"#cbd5e1\",\n    tertiary: \"#94a3b8\",\n    muted: \"#64748b\"\n  }\n};\n\nfunction isWithinDateRange(ts, startDate, endDate) {\n    if (!ts) return false;\n  \n    const tradeDate = new Date(ts * 1000)\n      .toISOString()\n      .slice(0, 10);\n  \n    return tradeDate >= startDate && tradeDate <= endDate;\n  }\n  \n  function getTodayRange() {\n    const today = new Date().toISOString().slice(0, 10);\n    return { start: today, end: today };\n  }\nfunction getThisMonthRange() {\nconst now = new Date();\nconst firstDay = new Date(now.getFullYear(), now.getMonth(), 1);\n\nreturn {\n    start: firstDay.toISOString().slice(0, 10),\n    end: now.toISOString().slice(0, 10),\n};\n}\n  \nfunction getThisWeekRange() {\nconst now = new Date();\nconst day = now.getDay(); // 0=Sun, 1=Mon\nconst diff = day === 0 ? 6 : day - 1; // Monday as start\nconst monday = new Date(now);\nmonday.setDate(now.getDate() - diff);\n\nreturn {\n    start: monday.toISOString().slice(0, 10),\n    end: now.toISOString().slice(0, 10),\n};\n}\n\nfunction getAllTimeRange() {\nreturn {\n    start: \"2000-01-01\",\n    end: \"2100-12-31\",\n};\n}\n  \n/* -------------------------\n   Card Component\n-------------------------- */\n\nfunction Card({ children, style, elevated }) {\n  return (\n    <div\n      style={{\n        background: elevated ? colors.bg.tertiary : colors.bg.secondary,\n        border: `1px solid ${colors.border.light}`,\n        borderRadius: 8,\n        boxShadow: elevated ? \"0 4px 6px -1px rgba(0, 0, 0, 0.3)\" : \"0 1px 3px rgba(0, 0, 0, 0.2)\",\n        ...style\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\n/* -------------------------\n   Status Badge\n-------------------------- */\n\nfunction StatusBadge({ type, text }) {\n  const styles = {\n    open: { bg: colors.warningBg, color: colors.warning, border: colors.warning },\n    closed: { bg: colors.bg.tertiary, color: colors.text.muted, border: colors.border.light }\n  };\n\n  const style = styles[type] || styles.closed;\n\n  return (\n    <span\n      style={{\n        padding: \"4px 10px\",\n        borderRadius: 6,\n        fontSize: 11,\n        fontWeight: 600,\n        background: style.bg,\n        color: style.color,\n        border: `1px solid ${style.border}40`,\n        display: \"inline-block\",\n        textTransform: \"uppercase\",\n        letterSpacing: \"0.3px\"\n      }}\n    >\n      {text}\n    </span>\n  );\n}\n\n/* -------------------------\n   Helper Functions\n-------------------------- */\n\nfunction formatTimestamp(timestamp) {\n  if (!timestamp) return \"‚Äî\";\n  const date = new Date(timestamp * 1000); // Unix timestamp to JS Date\n  return date.toLocaleString('en-IN', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    hour12: false\n  });\n}\n\nconst pnlStyle = (v) => ({\n  color: v > 0 ? colors.profit : v < 0 ? colors.loss : colors.neutral,\n  fontWeight: 600\n});\n\nconst BROKERAGE_PER_TRADE = 40;\n\nfunction scaleTrade(trade, selectedLots) {\n  if (!trade || !trade.lots || trade.lots === 0) return trade;\n\n  const scale = selectedLots / trade.lots;\n\n  const gross = (trade.pnl_value || 0) * scale;\n\n  const totalCharges = trade.total_charges || 0;\n\n  const variableCharges = Math.max(\n    totalCharges - BROKERAGE_PER_TRADE,\n    0\n  );\n\n  const scaledCharges =\n    BROKERAGE_PER_TRADE + (variableCharges * scale);\n\n  return {\n    ...trade,\n    _scale: scale,\n\n    scaled_pnl_value: gross,\n    scaled_charges: scaledCharges,\n    scaled_net_pnl: gross - scaledCharges,\n  };\n}\n\n/* -------------------------\n   Paper Trades Page\n-------------------------- */\n\nexport default function PaperTrades() {\n  const toast = useToast();\n  const [loading, setLoading] = useState(true);\n  const [paperTrades, setPaperTrades] = useState({ open: [], closed: [] });\n  const [selectedLots, setSelectedLots] = useState(1);\n  const todayStr = new Date().toISOString().slice(0, 10);\n\n  const [startDate, setStartDate] = useState(todayStr);\n  const [endDate, setEndDate] = useState(todayStr);\n\n  const [activeQuickFilter, setActiveQuickFilter] = useState(\"TODAY\");\n\n  function applyQuickFilter(type) {\n    let range;\n  \n    if (type === \"TODAY\") range = getTodayRange();\n    else if (type === \"WEEK\") range = getThisWeekRange();\n    else if (type === \"MONTH\") range = getThisMonthRange();\n    else range = getAllTimeRange();\n  \n    setStartDate(range.start);\n    setEndDate(range.end);\n    setActiveQuickFilter(type);\n  }\n  \n  \n\n  useEffect(() => {\n    loadPaperTrades();\n    const interval = setInterval(loadPaperTrades, 10000); // Refresh every 10s\n    return () => clearInterval(interval);\n  }, []);\n\n  async function loadPaperTrades() {\n    try {\n      const response = await fetch(\n        `${getApiBase().replace(/\\/$/, \"\")}/paper_trades`\n      );      \n      if (!response.ok) throw new Error('Failed to fetch paper trades');\n      const data = await response.json();\n      console.log(\"PAPER TRADES RAW API DATA\", data);\n\n      setPaperTrades({\n        open: Array.isArray(data.open) ? data.open : [],\n        closed: Array.isArray(data.closed) ? data.closed : [],\n      });\n\n    } catch (error) {\n      console.error('Error loading paper trades:', error);\n      setPaperTrades({ open: [], closed: [] });\n      toast.error('Load Failed', 'Could not load paper trades');\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  function handleExportCSV() {\n    if (allTrades.length === 0) {\n      toast.warning(\"No Data\", \"No paper trades to export\");\n      return;\n    }\n  \n    const grossPnL = Math.round(totalGrossPnL);\n    const netPnL = Math.round(totalNetPnL);\n    const totalCharges = Math.round(\n      scaledClosedTrades.reduce((s, t) => s + (t.scaled_charges || 0), 0)\n    );\n  \n    // -----------------------------\n    // CSV rows (SAME columns)\n    // -----------------------------\n    const csvRows = [\n      {\n        Strategy: \"SUMMARY\",\n        Symbol: \"\",\n        Side: \"\",\n        Entry_Time: `Start Date: ${startDate}`,\n        Exit_Time: `End Date: ${endDate}`,\n        Lots: selectedLots,\n        Gross_PnL: grossPnL,\n        Charges: totalCharges,\n        Net_PnL: netPnL,\n        State: \"\",\n      },\n      {}, // blank row\n      {\n        Strategy: \"Strategy\",\n        Symbol: \"Symbol\",\n        Side: \"Side\",\n        Entry_Time: \"Entry Time\",\n        Exit_Time: \"Exit Time\",\n        Lots: \"Lots\",\n        Gross_PnL: \"Gross P/L\",\n        Charges: \"Charges\",\n        Net_PnL: \"Net P/L\",\n        State: \"State\",\n      },\n    ];\n  \n    // -----------------------------\n    // Trade rows\n    // -----------------------------\n    allTrades.forEach(trade => {\n      csvRows.push({\n        Strategy: trade.strategy_name || \"\",\n        Symbol: trade.symbol || \"\",\n        Side: trade.side || \"\",\n        Entry_Time: formatTimestamp(trade.entry_time),\n        Exit_Time: trade.exit_time ? formatTimestamp(trade.exit_time) : \"\",\n        Lots: selectedLots,\n        Gross_PnL: Math.round(trade.scaled_pnl_value || 0),\n        Charges: Math.round(trade.scaled_charges || 0),\n        Net_PnL: Math.round(trade.scaled_net_pnl || 0),\n        State: trade.state || \"\",\n      });\n    });\n  \n    exportToCSV(csvRows, generateFilename(\"paper_trades\", \"csv\"));\n  \n    toast.success(\n      \"Export Complete\",\n      `${allTrades.length} paper trades exported`\n    );\n  }\n  \n  \n\n  if (loading) {\n    return (\n      <>\n        <LoadingAnimations />\n        <FullPageLoader message=\"Loading paper trades...\" />\n      </>\n    );\n  }\n  \n  /* -------------------------\n     Scaled Trades (UI-SCALE)\n  -------------------------- */\n  \n  // 1Ô∏è‚É£ Filter by selected date range (entry_time)\n  const filteredOpenTrades = Array.isArray(paperTrades.open)\n  ? paperTrades.open.filter(t =>\n      isWithinDateRange(t.entry_time, startDate, endDate)\n    )\n  : [];\n\n  const filteredClosedTrades = Array.isArray(paperTrades.closed)\n  ? paperTrades.closed.filter(t =>\n      isWithinDateRange(t.entry_time, startDate, endDate)\n    )\n  : [];\n\n  // 2Ô∏è‚É£ Apply UI lot scaling AFTER filtering\n  const scaledOpenTrades = filteredOpenTrades.map(t =>\n  scaleTrade(t, selectedLots)\n  );\n\n  const scaledClosedTrades = filteredClosedTrades.map(t =>\n  scaleTrade(t, selectedLots)\n  );\n  \n  const allTrades = [...scaledOpenTrades, ...scaledClosedTrades];\n  const hasTrades = allTrades.length > 0;\n  \n  \n  // Calculate summary stats\n  const totalGrossPnL = scaledClosedTrades.reduce(\n    (sum, t) => sum + (t.scaled_pnl_value || 0),\n    0\n  );\n  \n  const totalNetPnL = scaledClosedTrades.reduce(\n    (sum, t) => sum + (t.scaled_net_pnl || 0),\n    0\n  );\n  \n \n  const wins = filteredClosedTrades.filter(\n    t => (t.pnl_value ?? 0) > 0\n  ).length;\n  \n  const losses = filteredClosedTrades.filter(\n    t => (t.pnl_value ?? 0) < 0\n  ).length;\n  \n  const decisiveTrades = wins + losses;\n  \n  const winRate = decisiveTrades > 0\n    ? (wins / decisiveTrades) * 100\n    : 0;  \n  \n\n\n  return (\n    <div style={{\n      padding: spacing.xxl,\n      background: colors.bg.primary,\n      color: colors.text.primary,\n      minHeight: \"100vh\",\n      fontFamily: \"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif\"\n    }}>\n      {/* Header */}\n      <div style={{ marginBottom: spacing.xxl }}>\n        <div\n            style={{\n                display: \"flex\",\n                alignItems: \"flex-start\",\n                justifyContent: \"space-between\",\n                marginBottom: spacing.md,\n                gap: spacing.lg\n            }}\n            >\n            {/* Left: Title */}\n            <div>\n                <h1\n                style={{\n                    margin: 0,\n                    ...typography.displayLarge,\n                    color: colors.text.primary\n                }}\n                >\n                üìù Paper Trades\n                </h1>\n                <p\n                style={{\n                    margin: 0,\n                    marginTop: spacing.xs,\n                    ...typography.bodyMedium,\n                    color: colors.text.tertiary\n                }}\n                >\n                Simulated trades for testing strategies without risk\n                </p>\n            </div>\n\n            {/* Right: Controls */}\n            <div\n            style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: spacing.sm\n            }}\n            >\n\n                {/* Quick Filters */}\n                <div style={{ display: \"flex\", gap: 6 }}>\n                {[\n                    { id: \"TODAY\", label: \"Today\" },\n                    { id: \"WEEK\", label: \"This Week\" },\n                    { id: \"MONTH\", label: \"This Month\" },\n                    { id: \"ALL\", label: \"All Time\" },\n                ].map(btn => (\n                    <button\n                    key={btn.id}\n                    onClick={() => applyQuickFilter(btn.id)}\n                    style={{\n                        padding: \"6px 10px\",\n                        borderRadius: 6,\n                        fontSize: 12,\n                        fontWeight: 600,\n                        border: `1px solid ${colors.border.light}`,\n                        background:\n                        activeQuickFilter === btn.id\n                            ? colors.bg.tertiary\n                            : colors.bg.secondary,\n                        color: colors.text.primary,\n                        cursor: \"pointer\",\n                    }}\n                    >\n                    {btn.label}\n                    </button>\n                ))}\n                </div>\n\n\n                <div\n                    style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        gap: 6,\n                        fontSize: 12,\n                        color: colors.text.tertiary\n                    }}\n                    >\n                    <input\n                        type=\"date\"\n                        value={startDate}\n                        onChange={(e) => {\n                            setStartDate(e.target.value);\n                            setActiveQuickFilter(\"CUSTOM\");\n                          }}                          \n                        style={{\n                        padding: \"6px 8px\",\n                        borderRadius: 6,\n                        border: `1px solid ${colors.border.light}`,\n                        background: colors.bg.secondary,\n                        color: colors.text.primary\n                        }}\n                    />\n\n                    <span>‚Üí</span>\n\n                    <input\n                        type=\"date\"\n                        value={endDate}\n                        onChange={(e) => setEndDate(e.target.value)}\n                        style={{\n                        padding: \"6px 8px\",\n                        borderRadius: 6,\n                        border: `1px solid ${colors.border.light}`,\n                        background: colors.bg.secondary,\n                        color: colors.text.primary\n                        }}\n                    />\n                    </div>\n\n                {/* Lots selector */}\n                <div\n                    style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 6,\n                    fontSize: 12,\n                    color: colors.text.tertiary\n                    }}\n                >\n                    <span style={{ fontWeight: 500 }}>Lots</span>\n                    <select\n                    value={selectedLots}\n                    onChange={(e) => setSelectedLots(Number(e.target.value))}\n                    style={{\n                        padding: \"8px 10px\",\n                        borderRadius: 6,\n                        border: `1px solid ${colors.border.light}`,\n                        background: colors.bg.secondary,\n                        color: colors.text.primary,\n                        fontSize: 13,\n                        fontWeight: 600,\n                        cursor: \"pointer\"\n                    }}\n                    >\n                    {Array.from({ length: 10 }, (_, i) => i + 1).map((lot) => (\n                        <option key={lot} value={lot}>\n                        {lot}\n                        </option>\n                    ))}\n                    </select>\n                </div>\n\n                {/* Download CSV */}\n                <button\n                    onClick={handleExportCSV}\n                    style={{\n                    padding: \"8px 16px\",\n                    borderRadius: 6,\n                    border: `1px solid ${colors.border.light}`,\n                    background: colors.bg.secondary,\n                    color: colors.text.primary,\n                    fontSize: 13,\n                    fontWeight: 600,\n                    cursor: \"pointer\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 6,\n                    transition: \"all 0.2s ease\"\n                    }}\n                    onMouseEnter={(e) =>\n                    (e.currentTarget.style.background = colors.bg.tertiary)\n                    }\n                    onMouseLeave={(e) =>\n                    (e.currentTarget.style.background = colors.bg.secondary)\n                    }\n                >\n                    üìÑ Download CSV\n                </button>\n                </div>\n            \n            \n            </div>\n\n      </div>\n\n        {/* Summary Stats */}\n        <div\n        style={{\n            display: \"grid\",\n            gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\n            gap: spacing.md,\n            marginBottom: spacing.lg\n        }}\n        >\n\n          <Card elevated style={{ padding: spacing.lg }}>\n            <div style={{ ...typography.label, color: colors.text.muted, marginBottom: spacing.sm }}>\n                Gross P/L\n            </div>\n            <div style={{\n                ...typography.headingLarge,\n                fontSize: 24,\n                ...typography.mono,\n                ...pnlStyle(totalGrossPnL)\n            }}>\n                {totalGrossPnL > 0 ? '+' : ''}‚Çπ{Math.round(totalGrossPnL).toLocaleString('en-IN')}\n            </div>\n            </Card>\n\n          <Card elevated style={{ padding: spacing.lg }}>\n            <div style={{ ...typography.label, color: colors.text.muted, marginBottom: spacing.sm }}>\n                Net P/L (After Charges)\n            </div>\n            <div style={{\n                ...typography.headingLarge,\n                fontSize: 24,\n                ...typography.mono,\n                ...pnlStyle(totalNetPnL)\n            }}>\n                {totalNetPnL > 0 ? '+' : ''}‚Çπ{Math.round(totalNetPnL).toLocaleString('en-IN')}\n            </div>\n          </Card>\n\n\n          <Card elevated style={{ padding: spacing.lg }}>\n            <div style={{ ...typography.label, color: colors.text.muted, marginBottom: spacing.sm }}>Win Rate</div>\n            <div style={{ \n              ...typography.headingLarge, \n              fontSize: 24,\n              color: winRate >= 50 ? colors.profit : colors.loss\n            }}>\n              {winRate.toFixed(1)}%\n            </div>\n            <div style={{ ...typography.bodySmall, color: colors.text.tertiary, marginTop: spacing.xs }}>\n              {wins}W / {losses}L\n            </div>\n          </Card>\n\n          <Card elevated style={{ padding: spacing.lg }}>\n            <div style={{ ...typography.label, color: colors.text.muted, marginBottom: spacing.sm }}>Total Trades</div>\n            <div style={{ ...typography.headingLarge, fontSize: 24, color: colors.text.primary }}>\n            {filteredOpenTrades.length + filteredClosedTrades.length}\n            </div>\n            <div style={{ ...typography.bodySmall, color: colors.text.tertiary, marginTop: spacing.xs }}>\n              {filteredOpenTrades.length} open / {filteredClosedTrades.length} closed\n            </div>\n          </Card>\n        </div>\n      \n\n      {/* Trades Table */}\n      <Card>\n        {!hasTrades ? (\n          <div style={{ padding: spacing.xxl }}>\n            <EmptyState\n              icon=\"üìù\"\n              title=\"No paper trades yet\"\n              description=\"Paper trades will appear here once you switch to Paper Trading mode in Settings and start trading.\"\n            />\n          </div>\n        ) : (\n          <div style={{ overflowX: \"auto\" }}>\n            <table style={{\n              width: \"100%\",\n              borderCollapse: \"collapse\",\n              ...typography.bodyMedium\n            }}>\n              <thead style={{ background: colors.bg.tertiary }}>\n                <tr>\n                  <th style={th}>Strategy</th>\n                  <th style={th}>Symbol</th>\n                  <th style={th}>Side</th>\n                  <th style={th}>Entry Time</th>\n                  <th style={{ ...th, textAlign: \"right\" }}>Entry Price</th>\n                  <th style={{ ...th, textAlign: \"right\" }}>SL</th>\n                  <th style={{ ...th, textAlign: \"right\" }}>TP</th>\n                  <th style={th}>Exit Time</th>\n                  <th style={{ ...th, textAlign: \"right\" }}>Exit Price</th>\n                  <th style={th}>Exit Reason</th>\n                  <th style={{ ...th, textAlign: \"right\" }}>P/L Points</th>\n                  <th style={{ ...th, textAlign: \"right\" }}>P/L Value</th>\n                  <th style={{ ...th, textAlign: \"right\" }}>Charges</th>\n                  <th style={{ ...th, textAlign: \"right\" }}>Net P/L</th>\n                  <th style={{ ...th, textAlign: \"center\" }}>State</th>\n\n                </tr>\n              </thead>\n              <tbody>\n                {allTrades.map((trade, i) => {\n                  const pnlValue = trade.scaled_pnl_value || 0;\n                  const charges = trade.scaled_charges || 0;\n                  const netPnl = trade.scaled_net_pnl || 0;\n                  \n                  const pnlPoints = trade.pnl_points || 0;\n\n                  return (\n                    <tr \n                      key={trade.paper_trade_id || i}\n                      style={{ \n                        background: i % 2 ? colors.bg.secondary : colors.bg.primary,\n                        borderTop: `1px solid ${colors.border.dark}`,\n                        transition: \"background 0.15s ease\"\n                      }}\n                      onMouseEnter={(e) => e.currentTarget.style.background = colors.bg.tertiary}\n                      onMouseLeave={(e) => e.currentTarget.style.background = i % 2 ? colors.bg.secondary : colors.bg.primary}\n                    >\n                      <td style={td}>{trade.strategy_name || \"‚Äî\"}</td>\n                      <td style={{ ...td, ...typography.mono, fontWeight: 600 }}>\n                        {trade.symbol || \"‚Äî\"}\n                      </td>\n                      <td style={td}>\n                        <span style={{\n                          padding: \"2px 8px\",\n                          borderRadius: 4,\n                          background: trade.side === \"CE\" ? colors.successBg : colors.lossBg,\n                          color: trade.side === \"CE\" ? colors.success : colors.loss,\n                          fontSize: 11,\n                          fontWeight: 600\n                        }}>\n                          {trade.side || \"‚Äî\"}\n                        </span>\n                      </td>\n                      <td style={{ ...td, ...typography.mono, fontSize: 11 }}>\n                        {formatTimestamp(trade.entry_time)}\n                      </td>\n                      <td style={{ ...td, ...typography.mono, textAlign: \"right\" }}>\n                        {trade.entry_price ? trade.entry_price.toFixed(2) : \"‚Äî\"}\n                      </td>\n                      <td style={{ ...td, ...typography.mono, textAlign: \"right\", color: colors.text.tertiary }}>\n                        {trade.sl_price ? trade.sl_price.toFixed(2) : \"‚Äî\"}\n                      </td>\n                      <td style={{ ...td, ...typography.mono, textAlign: \"right\", color: colors.text.tertiary }}>\n                        {trade.tp_price ? trade.tp_price.toFixed(2) : \"‚Äî\"}\n                      </td>\n                      <td style={{ ...td, ...typography.mono, fontSize: 11 }}>\n                        {trade.exit_time ? formatTimestamp(trade.exit_time) : \"‚Äî\"}\n                      </td>\n                      <td style={{ ...td, ...typography.mono, textAlign: \"right\" }}>\n                        {trade.exit_price ? trade.exit_price.toFixed(2) : \"‚Äî\"}\n                      </td>\n                      <td style={td}>\n                        {trade.exit_reason ? (\n                          <span style={{\n                            padding: \"2px 6px\",\n                            borderRadius: 4,\n                            background: trade.exit_reason === \"TP\" ? colors.successBg : colors.lossBg,\n                            fontSize: 11,\n                            fontWeight: 600\n                          }}>\n                            {trade.exit_reason}\n                          </span>\n                        ) : \"‚Äî\"}\n                      </td>\n                        {/* P/L Points */}\n                        <td style={{ \n                        ...td, \n                        ...typography.mono, \n                        textAlign: \"right\", \n                        ...pnlStyle(pnlPoints) \n                        }}>\n                        {trade.state === \"CLOSED\" && pnlPoints !== 0\n                            ? `${pnlPoints > 0 ? '+' : ''}${pnlPoints.toFixed(2)}`\n                            : \"‚Äî\"}\n                        </td>\n\n                        {/* P/L Value (Gross) */}\n                        <td style={{\n                        ...td,\n                        ...typography.mono,\n                        textAlign: \"right\",\n                        ...pnlStyle(pnlValue),\n                        }}>\n                        {trade.state === \"CLOSED\"\n                            ? `${pnlValue > 0 ? '+' : ''}‚Çπ${Math.round(pnlValue).toLocaleString('en-IN')}`\n                            : \"‚Äî\"}\n                        </td>\n\n                        {/* Charges */}\n                        <td style={{\n                        ...td,\n                        ...typography.mono,\n                        textAlign: \"right\",\n                        color: colors.text.tertiary\n                        }}>\n                        {trade.state === \"CLOSED\"\n                            ? `‚Çπ${Math.round(charges).toLocaleString('en-IN')}`\n                            : \"‚Äî\"}\n\n                        </td>\n\n                        {/* Net P/L */}\n                        <td style={{\n                        ...td,\n                        ...typography.mono,\n                        textAlign: \"right\",\n                        fontWeight: 600,\n                        color: trade.net_pnl > 0 ? colors.profit : colors.loss,\n                        background: trade.state === \"CLOSED\"\n                            ? (trade.net_pnl > 0 ? colors.profitBg : colors.lossBg)\n                            : \"transparent\"\n                        }}>\n                        {trade.state === \"CLOSED\"\n                            ? `${netPnl > 0 ? '+' : ''}‚Çπ${Math.round(netPnl).toLocaleString('en-IN')}`\n                            : \"‚Äî\"}\n\n                        </td>\n\n                        {/* State */}\n                        <td style={{ ...td, textAlign: \"center\" }}>\n                        <StatusBadge\n                            type={trade.state === \"OPEN\" ? \"open\" : \"closed\"}\n                            text={trade.state || \"UNKNOWN\"}\n                        />\n                        </td>\n\n\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n}\n\n/* -------------------------\n   Styles\n-------------------------- */\n\nconst th = {\n  padding: \"12px 12px\",\n  textAlign: \"left\",\n  ...typography.label,\n  color: colors.text.muted,\n  borderBottom: `2px solid ${colors.border.light}`,\n  fontWeight: 600\n};\n\nconst td = { \n  padding: \"12px 12px\",\n  ...typography.bodyMedium\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}